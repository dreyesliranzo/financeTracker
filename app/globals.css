@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 210 40% 98%;
  --foreground: 222 47% 11%;
  --card: 0 0% 100%;
  --card-foreground: 222 47% 11%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 47% 11%;
  --primary: 217 91% 60%;
  --primary-foreground: 210 40% 98%;
  --secondary: 210 40% 96%;
  --secondary-foreground: 222 47% 11%;
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;
  --accent: 217 91% 60%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 217 91% 60%;
  --radius: 12px;
  --bg-glow-1: 37 99 235;
  --bg-glow-2: 14 116 144;
}

.dark {
  --background: 222 30% 7%;
  --foreground: 210 40% 98%;
  --card: 222 28% 10%;
  --card-foreground: 210 40% 98%;
  --popover: 222 28% 9%;
  --popover-foreground: 210 40% 98%;
  --primary: 217 91% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 222 18% 16%;
  --secondary-foreground: 210 40% 98%;
  --muted: 222 16% 16%;
  --muted-foreground: 215 20% 65%;
  --accent: 217 91% 60%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 62% 50%;
  --destructive-foreground: 0 0% 100%;
  --border: 222 20% 18%;
  --input: 222 20% 18%;
  --ring: 217 91% 60%;
  --bg-glow-1: 37 99 235;
  --bg-glow-2: 14 116 144;
}

:root[data-accent="emerald"] {
  --primary: 152 76% 45%;
  --accent: 152 76% 45%;
  --ring: 152 76% 45%;
  --bg-glow-1: 16 185 129;
  --bg-glow-2: 20 184 166;
}

:root[data-accent="sunset"] {
  --primary: 20 90% 55%;
  --accent: 20 90% 55%;
  --ring: 20 90% 55%;
  --bg-glow-1: 249 115 22;
  --bg-glow-2: 236 72 153;
}

:root[data-accent="cyan"] {
  --primary: 187 86% 53%;
  --accent: 187 86% 53%;
  --ring: 187 86% 53%;
  --bg-glow-1: 34 211 238;
  --bg-glow-2: 16 185 129;
}

.dark[data-accent="emerald"] {
  --primary: 152 76% 52%;
  --accent: 152 76% 52%;
  --ring: 152 76% 52%;
  --bg-glow-1: 16 185 129;
  --bg-glow-2: 20 184 166;
}

.dark[data-accent="sunset"] {
  --primary: 24 94% 55%;
  --accent: 24 94% 55%;
  --ring: 24 94% 55%;
  --bg-glow-1: 249 115 22;
  --bg-glow-2: 244 114 182;
}

.dark[data-accent="cyan"] {
  --primary: 187 86% 58%;
  --accent: 187 86% 58%;
  --ring: 187 86% 58%;
  --bg-glow-1: 34 211 238;
  --bg-glow-2: 16 185 129;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased min-h-screen;
    background-image: radial-gradient(1200px 600px at 20% 0%, rgb(var(--bg-glow-1) / 0.14), transparent),
      radial-gradient(800px 400px at 80% 20%, rgb(var(--bg-glow-2) / 0.12), transparent);
    background-attachment: fixed;
  }

  h1, h2, h3, h4 {
    @apply font-semibold tracking-tight;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .animate-fade-in {
    animation: fade-in 420ms ease-out both;
  }

  .animate-fade-in-up {
    animation: fade-in-up 480ms ease-out both;
  }

  .hover-lift {
    transition: transform 200ms ease, box-shadow 200ms ease;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .success-toast {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    border-radius: 14px;
    padding: 12px 14px;
    border: 1px solid hsl(var(--border));
    background: hsl(var(--card));
    box-shadow: 0 18px 40px -28px rgba(15, 23, 42, 0.65);
    width: min(360px, calc(100vw - 32px));
    animation: toast-pop 220ms ease-out both;
  }

  .success-toast-icon {
    position: relative;
    width: 32px;
    height: 32px;
    border-radius: 999px;
    display: grid;
    place-items: center;
    color: #10b981;
    background: rgba(16, 185, 129, 0.15);
    flex-shrink: 0;
  }

  .success-toast-icon::after {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: 999px;
    border: 1px solid rgba(16, 185, 129, 0.2);
    animation: success-ring 720ms ease-out both;
  }

  .success-toast-check {
    width: 18px;
    height: 18px;
  }

  .success-toast-check-path {
    stroke-dasharray: 24;
    stroke-dashoffset: 24;
    animation: success-check 520ms ease-out 120ms forwards;
  }

  .success-toast-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: hsl(var(--foreground));
  }

  .success-toast-description {
    font-size: 0.78rem;
    color: hsl(var(--muted-foreground));
    margin-top: 2px;
  }

  .success-overlay {
    position: fixed;
    inset: 0;
    z-index: 80;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(2, 6, 23, 0.4);
    backdrop-filter: blur(8px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 200ms ease;
  }

  .success-overlay.is-visible {
    opacity: 1;
    pointer-events: auto;
  }

  .success-overlay-card {
    transform: translateY(8px) scale(0.98);
    opacity: 0;
    transition: transform 240ms ease, opacity 240ms ease;
  }

  .success-overlay.is-visible .success-overlay-card {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translate3d(0, 10px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes toast-pop {
  from {
    opacity: 0;
    transform: translateY(6px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes success-check {
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes success-ring {
  from {
    transform: scale(0.6);
    opacity: 0.6;
  }
  to {
    transform: scale(1);
    opacity: 0;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-fade-in-up {
    animation: none;
  }

  .hover-lift,
  .hover-lift:hover {
    transform: none;
    transition: none;
  }

  .success-toast,
  .success-toast-icon::after,
  .success-toast-check-path,
  .success-overlay,
  .success-overlay-card {
    animation: none;
    transition: none;
  }
}
